{% extends "layout.njk" %}

{% block content %}

<div class="card table_container">

    <div class="header">
        <a 
            class="new_teacher" 
            href="/teachers/create">Novo Professor
        </a>
        <form action="/teachers" method="GET"><!--vai ficar na mesma página por isso get e instrcutors-->
            <input class="form_filter" 
                type="text" 
                name="filter" 
                placeholder="por nome ou matéria..."
                value="{{filter}}">
            <button 
                class="filter_button" 
                type="submit">Filtrar
            </button>
        </form>
    </div>

    <table>
        <thead>
            <tr>
                <th>Professor</th>
                <th class="materia">Matérias</th>
                <th>Alunos</th>
                <th>Ação</th>
            </tr>
        </thead>

        <tbody>
            {% for teacher in teachers %}
                <tr>
                    <td>
                        <span 
                            style="background-image: url({{teacher.avatar_url}})">
                        </span>{{teacher.name}}
                    </td>
            
                    <td>
                        <span class="service">
                            {{teacher.subjects_taught}}
                        </span>
                        
                    </td>

                    <td>{{teacher.total_students}}</td>

                    <td>
                        <a href="/teachers/{{teacher.id}}">Ver</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="pagination"
        data-page={{pagination.page}}
        data-total= {{pagination.total}}
        data-filter={{filter}}>
    </div>
</div>

{% endblock content %}